(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},22:function(e,t,a){e.exports=a(36)},36:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(21),s=a.n(r),o=(a(16),a(17),a(42)),i=(a(18),a(12)),c=a(11),m=a(43),d=a(39),h=a(40),u=a(41),E=a(10),p=a(4);const g="https://gregarious-victory-production.up.railway.app/api/reclamos";var b=class extends l.Component{constructor(){super(...arguments),this.state={data:[],modalInsertar:!1,modalEliminar:!1,form:{id:"",id_cliente:"",DNI:"",fecha:"",detalle_reclamo:"",tipoModal:""},currentPage:1,itemsPerPage:6},this.peticionGet=(()=>{o.a.get(g).then(e=>{this.setState({data:e.data})}).catch(e=>{console.log(e.message)})}),this.peticionPost=(async()=>{delete this.state.form.id,await o.a.post(g,this.state.form).then(e=>{this.modalInsertar(),this.peticionGet()}).catch(e=>{console.log(e.message)})}),this.peticionPut=(()=>{o.a.put(g+"/"+this.state.form.id,this.state.form).then(e=>{this.modalInsertar(),this.peticionGet()}).catch(e=>{console.log(e.message)})}),this.peticionDelete=(()=>{o.a.delete(g+"/"+this.state.form.id).then(e=>{this.setState({modalEliminar:!1}),this.peticionGet()}).catch(e=>{console.log(e.message)})}),this.modalInsertar=(()=>{this.setState({modalInsertar:!this.state.modalInsertar})}),this.seleccionarReclamacion=(e=>{this.setState({tipoModal:"actualizar",form:{id:e.id,id_cliente:e.id_cliente,DNI:e.DNI,fecha:e.fecha,detalle_reclamo:e.detalle_reclamo}})}),this.handleChange=(async e=>{e.persist(),await this.setState({form:{...this.state.form,[e.target.name]:e.target.value}}),console.log(this.state.form)}),this.handlePageChange=((e,t)=>{e.preventDefault(),this.setState({currentPage:t})})}componentDidMount(){this.peticionGet()}render(){const{form:e,data:t,currentPage:a,itemsPerPage:l}=this.state,r=a*l,s=r-l,o=t.slice(s,r),p=[];for(let n=1;n<=Math.ceil(t.length/l);n++)p.push(n);return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"sidebar"},n.a.createElement("h2",null,"Men\xfa"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(E.b,{to:"/"},"INICIO")),n.a.createElement("li",null,n.a.createElement(E.b,{to:"/reclamaciones"},"RECLAMACIONES")))),n.a.createElement("div",{className:"main-content"},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"ID Cliente"),n.a.createElement("th",null,"DNI"),n.a.createElement("th",null,"Fecha"),n.a.createElement("th",null,"Detalle Reclamo"),n.a.createElement("th",null,"Acciones"))),n.a.createElement("tbody",null,o.map(e=>n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.id_cliente),n.a.createElement("td",null,e.DNI),n.a.createElement("td",null,e.fecha),n.a.createElement("td",null,e.detalle_reclamo),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-danger",onClick:()=>{this.seleccionarReclamacion(e),this.setState({modalEliminar:!0})}},n.a.createElement(i.a,{icon:c.b}))))))),n.a.createElement("nav",null,n.a.createElement("ul",{className:"pagination"},p.map(e=>n.a.createElement("li",{key:e,className:"page-item"},n.a.createElement("a",{onClick:t=>this.handlePageChange(t,e),href:"!#",className:"page-link"},e))))),n.a.createElement(m.a,{isOpen:this.state.modalInsertar},n.a.createElement(d.a,{style:{display:"block"}},n.a.createElement("span",{style:{float:"right"},onClick:()=>this.modalInsertar()}," X ")),n.a.createElement(h.a,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"id"},"ID"),n.a.createElement("input",{className:"form-control",type:"text",name:"id",id:"id",onChange:this.handleChange,value:e?e.id:this.state.data.length+2,readOnly:!0}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"id_cliente"},"ID Cliente"),n.a.createElement("input",{className:"form-control",type:"text",name:"id_cliente",id:"id_cliente",onChange:this.handleChange,value:e?e.id_cliente:""}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"DNI"},"DNI"),n.a.createElement("input",{className:"form-control",type:"text",name:"DNI",id:"DNI",onChange:this.handleChange,value:e?e.DNI:""}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"fecha"},"Fecha"),n.a.createElement("input",{className:"form-control",type:"text",name:"fecha",id:"fecha",onChange:this.handleChange,value:e?e.fecha:""}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"detalle_reclamo"},"Detalle Reclamo"),n.a.createElement("textarea",{className:"form-control",name:"detalle_reclamo",id:"detalle_reclamo",onChange:this.handleChange,value:e?e.detalle_reclamo:""}))),n.a.createElement(u.a,null,"insertar"===this.state.tipoModal?n.a.createElement("button",{className:"btn btn-success",onClick:()=>this.peticionPost()},"INSERTAR"):n.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.peticionPut()},"ACTUALIZAR"),n.a.createElement("button",{className:"btn btn-danger",onClick:()=>this.modalInsertar()},"CANCELAR"))),n.a.createElement(m.a,{isOpen:this.state.modalEliminar},n.a.createElement(h.a,null,"\xbfEstas Seguro de que quieres eliminar la reclamaci\xf3n ",e&&e.id,"?"),n.a.createElement(u.a,null,n.a.createElement("button",{className:"btn btn-danger",onClick:()=>this.peticionDelete()},"SI"),n.a.createElement("button",{className:"btn btn-secondary",onClick:()=>this.setState({modalEliminar:!1})},"NO")))))}};const N="https://gregarious-victory-production.up.railway.app/api/productos";var C=class extends l.Component{constructor(){super(...arguments),this.state={data:[],modalInsertar:!1,modalEliminar:!1,form:{id:"",nombre:"",descripcion:"",image_path:"",precio:"",stock:"",tipoModal:""},currentPage:1,itemsPerPage:6},this.peticionGet=(()=>{o.a.get(N).then(e=>{this.setState({data:e.data})}).catch(e=>{console.log(e.message)})}),this.peticionPost=(async()=>{delete this.state.form.id,await o.a.post(N,this.state.form).then(e=>{this.modalInsertar(),this.peticionGet()}).catch(e=>{console.log(e.message)})}),this.peticionPut=(()=>{o.a.put(N+"/"+this.state.form.id,this.state.form).then(e=>{this.modalInsertar(),this.peticionGet()}).catch(e=>{console.log(e.message)})}),this.peticionDelete=(()=>{o.a.delete(N+"/"+this.state.form.id).then(e=>{this.setState({modalEliminar:!1}),this.peticionGet()}).catch(e=>{console.log(e.message)})}),this.modalInsertar=(()=>{this.setState({modalInsertar:!this.state.modalInsertar})}),this.seleccionarProducto=(e=>{this.setState({tipoModal:"actualizar",form:{id:e.id,nombre:e.nombre,descripcion:e.descripcion,image_path:e.image_path,precio:e.precio,stock:e.stock}})}),this.handleChange=(async e=>{e.persist(),await this.setState({form:{...this.state.form,[e.target.name]:e.target.value}}),console.log(this.state.form)}),this.handlePageChange=((e,t)=>{e.preventDefault(),this.setState({currentPage:t})})}componentDidMount(){this.peticionGet()}render(){const{form:e,data:t,currentPage:a,itemsPerPage:l}=this.state,r=a*l,s=r-l,o=t.slice(s,r),g=[];for(let n=1;n<=Math.ceil(t.length/l);n++)g.push(n);return n.a.createElement(E.a,null,n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"sidebar"},n.a.createElement("h2",null,"Men\xfa"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(E.b,{to:"/"},"INICIO")),n.a.createElement("li",null,n.a.createElement(E.b,{to:"/reclamaciones"},"RECLAMACIONES")))),n.a.createElement("div",{className:"main-content"},n.a.createElement(p.c,null,n.a.createElement(p.a,{path:"/",element:n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-success",onClick:()=>{this.setState({form:null,tipoModal:"insertar"}),this.modalInsertar()}},"Agregar Producto"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"#"),n.a.createElement("th",null,"NOMBRE"),n.a.createElement("th",null,"DESCRIPCION"),n.a.createElement("th",null,"IMAGEN"),n.a.createElement("th",null,"PRECIO"),n.a.createElement("th",null,"STOCK"),n.a.createElement("th",null,"ACCIONES"))),n.a.createElement("tbody",null,o.map(e=>n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.nombre),n.a.createElement("td",null,e.descripcion),n.a.createElement("td",null,e.image_path),n.a.createElement("td",null,e.precio),n.a.createElement("td",null,e.stock),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-primary",onClick:()=>{this.seleccionarProducto(e),this.modalInsertar()}},n.a.createElement(i.a,{icon:c.a}))," ",n.a.createElement("button",{className:"btn btn-danger",onClick:()=>{this.seleccionarProducto(e),this.setState({modalEliminar:!0})}},n.a.createElement(i.a,{icon:c.b}))))))),n.a.createElement("nav",null,n.a.createElement("ul",{className:"pagination"},g.map(e=>n.a.createElement("li",{key:e,className:"page-item"},n.a.createElement("a",{onClick:t=>this.handlePageChange(t,e),href:"!#",className:"page-link"},e))))),n.a.createElement(m.a,{isOpen:this.state.modalInsertar},n.a.createElement(d.a,{style:{display:"block"}},n.a.createElement("span",{style:{float:"right"},onClick:()=>this.modalInsertar()}," X ")),n.a.createElement(h.a,null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"id"},"ID"),n.a.createElement("input",{className:"form-control",type:"text",name:"id",id:"id",onChange:this.handleChange,value:e?e.id:this.state.data.length+2,readOnly:!0}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"nombre"},"NOMBRE"),n.a.createElement("input",{className:"form-control",type:"text",name:"nombre",id:"nombre",onChange:this.handleChange,value:e?e.nombre:""}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"descripcion"},"DESCRIPCION"),n.a.createElement("input",{className:"form-control",type:"text",name:"descripcion",id:"descripcion",onChange:this.handleChange,value:e?e.descripcion:""}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"image_path"},"IMAGEN"),n.a.createElement("input",{className:"form-control",type:"text",name:"image_path",id:"image_path",onChange:this.handleChange,value:e?e.image_path:""}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"precio"},"PRECIO"),n.a.createElement("input",{className:"form-control",type:"text",name:"precio",id:"precio",onChange:this.handleChange,value:e?e.precio:""}),n.a.createElement("br",null),n.a.createElement("label",{htmlFor:"stock"},"STOCK"),n.a.createElement("input",{className:"form-control",type:"text",name:"stock",id:"stock",onChange:this.handleChange,value:e?e.stock:""}))),n.a.createElement(u.a,null,"insertar"===this.state.tipoModal?n.a.createElement("button",{className:"btn btn-success",onClick:()=>this.peticionPost()},"INSERTAR"):n.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.peticionPut()},"ACTUALIZAR"),n.a.createElement("button",{className:"btn btn-danger",onClick:()=>this.modalInsertar()},"CANCELAR"))),n.a.createElement(m.a,{isOpen:this.state.modalEliminar},n.a.createElement(h.a,null,"\xbfEstas Seguro de que quieres eliminar el producto ",e&&e.nombre,"?"),n.a.createElement(u.a,null,n.a.createElement("button",{className:"btn btn-danger",onClick:()=>this.peticionDelete()},"SI"),n.a.createElement("button",{className:"btn btn-secondary",onClick:()=>this.setState({modalEliminar:!1})},"NO"))))}),n.a.createElement(p.a,{path:"/reclamaciones",element:n.a.createElement(b,null)})))))}};const f="https://gregarious-victory-production.up.railway.app/api/login",v="https://gregarious-victory-production.up.railway.app/api/register";var y=class extends l.Component{constructor(){super(...arguments),this.state={form:{email:"",password:"",name:"",address:"",phone:"",password_confirmation:""},modalRegister:!1,loggedIn:!1,errorMessage:""},this.handleChange=(e=>{const{name:t,value:a}=e.target;this.setState(e=>({form:{...e.form,[t]:a}}))}),this.handleLogin=(async e=>{e.preventDefault();const{email:t,password:a}=this.state.form;try{const e=await o.a.post(f,{email:t,password:a});localStorage.setItem("token",e.data.token),this.setState({loggedIn:!0,errorMessage:""})}catch(l){console.log(l.message),this.setState({errorMessage:"Invalid credentials. Please try again."})}}),this.handleRegister=(async e=>{e.preventDefault();const{name:t,email:a,address:l,phone:n,password:r,password_confirmation:s}=this.state.form;if(r===s)try{await o.a.post(v,{name:t,email:a,address:l,phone:n,password:r,password_confirmation:s}),this.toggleModalRegister(),this.setState({errorMessage:""})}catch(i){console.log(i.message),this.setState({errorMessage:"Registration failed. Please try again."})}else this.setState({errorMessage:"Passwords do not match."})}),this.toggleModalRegister=(()=>{this.setState({modalRegister:!this.state.modalRegister})})}render(){const{form:e,loggedIn:t,modalRegister:a,errorMessage:l}=this.state;return t?n.a.createElement(C,null):n.a.createElement("div",{className:"container login-container"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col-md-20"},n.a.createElement("div",{className:"card login-form "},n.a.createElement("div",{className:"card-body"},n.a.createElement("h3",{className:"card-title text-center mb-4"},"Login"),l&&n.a.createElement("div",{className:"alert alert-danger"},l),n.a.createElement("form",{onSubmit:this.handleLogin},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:e.email,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",value:e.password,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"text-center"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Login"))),n.a.createElement("p",{className:"mt-3 text-center"},"Don't have an account? ",n.a.createElement("button",{className:"btn btn-link",onClick:this.toggleModalRegister},"Register")))))),n.a.createElement(m.a,{isOpen:a,toggle:this.toggleModalRegister},n.a.createElement(d.a,{toggle:this.toggleModalRegister},"Register"),n.a.createElement(h.a,null,n.a.createElement("form",{onSubmit:this.handleRegister},n.a.createElement("div",{className:"card register-form"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",value:e.name,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:e.email,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"address"},"Address"),n.a.createElement("input",{type:"text",className:"form-control",id:"address",name:"address",value:e.address,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"phone"},"Phone"),n.a.createElement("input",{type:"text",className:"form-control",id:"phone",name:"phone",value:e.phone,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",value:e.password,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password_confirmation"},"Confirm Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password_confirmation",name:"password_confirmation",value:e.password_confirmation,onChange:this.handleChange,required:!0})),n.a.createElement("div",{className:"text-center"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Register")))))),n.a.createElement(u.a,null,n.a.createElement("button",{className:"btn btn-secondary",onClick:this.toggleModalRegister},"Cancel"))))}};var I=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:r,getTTFB:s}=t;a(e),l(e),n(e),r(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null))),I()}},[[22,1,2]]]);
//# sourceMappingURL=main.d0f6bddb.chunk.js.map